<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>URGENCE 2026</title>
    <style>
        body { background: #000; color: #fff; font-family: 'Arial Black', sans-serif; margin: 0; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
        #btn { position: fixed; inset: 0; background: #ff0055; color: #fff; font-size: 50px; border: none; z-index: 999; cursor: pointer; }
        #countdown { font-size: 35vw; line-height: 1; }
        #msg { display: none; font-size: 10vw; text-align: center; color: gold; animation: blink 0.5s infinite; }
        @keyframes blink { from { opacity: 1; } to { opacity: 0; } }
        .flash { background: white !important; color: black !important; }
    </style>
</head>
<body>

    <button id="btn" onclick="start()">CLIQUEZ ICI POUR LE SON</button>
    
    <div id="countdown">--</div>
    <div id="msg">✨ BONNE ANNÉE 2026 ✨</div>

    <script>
        const countEl = document.getElementById('countdown');
        const msgEl = document.getElementById('msg');
        let lastS = -1;

        function speak(t) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(t);
            u.lang = 'fr-FR';
            u.rate = 1.2;
            window.speechSynthesis.speak(u);
        }

        function start() {
            document.getElementById('btn').style.display = 'none';
            // Pré-chauffe la voix
            speak(""); 
            tick();
        }

        function tick() {
            const now = Date.now();
            const target = new Date("2026-01-01T00:00:00+01:00").getTime();
            const diff = target - now;

            if (diff <= 0) {
                countEl.style.display = 'none';
                msgEl.style.display = 'block';
                document.body.style.background = "linear-gradient(45deg, #ff0055, #ffcc00)";
                if (lastS !== 0) {
                    speak("Bonne année deux mille vingt-six !");
                    lastS = 0;
                }
                return;
            }

            const s = Math.floor(diff / 1000);
            
            // Affichage simple
            countEl.innerText = s;

            // Décompte vocal 10 secondes
            if (s <= 10 && s !== lastS) {
                lastS = s;
                speak(s.toString());
                
                // Effet de flash
                document.body.classList.add('flash');
                setTimeout(() => document.body.classList.remove('flash'), 100);
            }

            requestAnimationFrame(tick);
        }
    </script>
</body>
</html>
